(n=>{(l=document.querySelector("[nonce]"))&&(o=l.nonce||l.getAttribute("nonce"));var o,t={async:1,id:"dcTrackingGeneratorCookieBanner",pagePath:"/banner.js"},a=window.location.hostname.split(".").slice(-2).join("."),r="datacamp.test"===a||"localhost"===a||"127.0.0.1"===a,G="datacamp-staging.com"===a||r,i=window.location!==window.parent.location,e=!1;try{e=window.navigator.userAgent.includes("x-dc-client=webview")}catch{}var c,d,s="dc_attribution",u=["dc_referrer","utm_cid","utm_campaignid","utm_aid","utm_adgroupid","utm_campaign","utm_loc","utm_loc_physical_ms","utm_loc_interest_ms","utm_mtd","utm_matchtype","utm_device","utm_kw","utm_keyword","utm_source","utm_medium","utm_content","utm_term","utm_accountid"],l=["fbclid","gclid","li_fat_id","msclkid","rdt_cid","ttclid"],I=u.concat(l),m="localStorage",w="dc_consent",B=["functional","performance","advertisement"],p=-1<window.location.search.indexOf("display_cookie_banner");function f(){return G?"datacamp-staging.com":"datacamp.com"}function h(e){return"https://"+e.subdomain+"."+e.domain+e.path}function g(e){var t=document.createElement("script");t.src=h({subdomain:"compliance",domain:f(),path:e.pagePath}),e.id&&(t.id=e.id),o&&"null"!==o&&t.setAttribute("nonce",o),t.async=e.async,document.head.appendChild(t)}function v(e){if(!r)for(var t=0;t<n.length;t++)-1<e.indexOf(n[t].category)&&g(n[t])}function y(e){return void 0===window.localStorage?null:window.localStorage.getItem(e)}function _(e){return null===y(e)}function k(e){e=document.cookie.match("(^|;) ?"+e+"=([^;]*)(;|$)");return e?decodeURIComponent(e[2]):null}function S(e){return null===k(e)}function b(e,t,n){var o=new Date((new Date).setFullYear((new Date).getFullYear()+1)).toUTCString();document.cookie=e+"="+t+";path=/;domain=."+a+";expires="+(n||o)+";"}function O(){return["www.datacamp-staging.com","www.datacamp.com"].includes(window.location.hostname)}function J(e){var t;void 0!==window.localStorage&&_(s)&&(t=s,e=e,void 0!==window.localStorage)&&window.localStorage.setItem(t,e)}function N(e){var t;"cookie"===m?(t=e,S(s)&&b(s,t)):J(e)}function j(){return("cookie"===m?S:_)(s)}function L(){j()||("cookie"===m?S(s)||b(s,"",(new Date).toUTCString()):void 0===window.localStorage||_(s)||window.localStorage.removeItem(s))}function q(){if(O()&&!j())if(E().includes("advertisement")){var t=JSON.parse(("cookie"===m?k:y)(s));if(0!==Object.keys(t).length)try{var e=new URL(window.location.href),n=e.searchParams,o=!1;Object.keys(t).forEach(function(e){n.has(e)||(n.append(e,t[e]),o=!0)}),o&&window.history.pushState({},"",e.href.replaceAll("%2B","+")),L()}catch(e){}}else L()}function P(){if(O())if(E().includes("advertisement"))L();else try{var e,t=new URL(window.location.href).searchParams,n={};window.document.referrer&&(n.dc_referrer=window.document.referrer);for([r,e]of t.entries())r&&e&&I.includes(r)&&(n[r]=e.replaceAll(" ","+"));if(0<Object.keys(n).length){for(var o={},a=0;a<u.length;a++){var r=u[a];n.hasOwnProperty(r)&&(o[r]=n[r])}for(r in n)n.hasOwnProperty(r)&&!o.hasOwnProperty(r)&&(o[r]=n[r]);N(JSON.stringify(o))}}catch(e){}}function E(){var t;return e?B.slice(0):(t=JSON.parse(k(w)))&&"2.0.0"===t.version?Object.keys(t).filter(function(e){return"version"!==e&&"essential"!==e&&t[e]}):[]}function T(){0<E().length&&v(E())}function A(){window.dispatchEvent(new CustomEvent("dc:consent:updated"))}function C(e){!0===e||"true"===e?(P(),(r||i)&&!p||g(t),window.addEventListener("dc:consent:updated",T,!1),window.addEventListener("dc:consent:updated",q,!1),i&&window.addEventListener("message",function(e){e&&e.data&&"string"==typeof e.data&&"dc:consent:granted"===e.data&&A()},!1)):(b(w,'{"version":"2.0.0","essential":1,"functional":1,"performance":1,"advertisement":1}'),L(),A(),T())}try{var U,R,x=new URL(window.location.href),D=x.searchParams;l.some(function(e){return D.has(e)})&&(R=!(U=/script|javascript|onerror|onload|eval|document|cookie|alert|onclick|onmouseover|select|insert|update|delete|drop|union|where/i),l.forEach(function(e){var t,n;D.has(e)&&(t=D.get(e),n=!(n=t)||"string"!=typeof n||U.test(n)?(console.warn("Ad platform parameter value contains reserved word(s):",n),""):n,t!==n)&&(D.delete(e),R=!0)}),R)&&window.history.replaceState({},"",x.toString())}catch(e){}v(["essential"]),p?C(!0):0<E().length?(P(),e&&window.dataLayer&&window.dataLayer.push&&window.dataLayer.push({auto_consent:"true"}),T()):(c=C,(d=new XMLHttpRequest).onreadystatechange=function(){4==d.readyState&&c(d.response)},d.open("GET",h({subdomain:"compliancy",domain:f(),path:"/geolocation"})),d.responseType="json",d.send())})([{async:!0,category:"essential",id:"dcTrackingGeneratorGtm",pagePath:"/scripts/gtm.js"},{async:!0,category:"essential",id:"dcTermsBanner",pagePath:"/scripts/terms.js"}]);